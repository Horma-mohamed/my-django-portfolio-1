{% load static %}
<section class=" w-full  my-10 " >
    <div class="  w-full ">
        <div class="w-full h-20 space-y-4 my-4 px-4">
            <h1 class="text-2xl font-bold " >MY PROJECTS</h1>
            <!--<div class=" px-4">
                
                    <ul class="  flex space-x-4">
                    <button class="case-filter w-40 h-10   text-xl text-gray-800 font-bold  " data-filter='all' >All</button>
                    <button class="case-filter w-40 h-10  bg-gray-300 text-lg text-gray-500 font-semibold hover:text-gray-700 transform duration-500" data-filter='web'>Web</button>
                    <button class="case-filter w-40 h-10  text-lg text-gray-500 font-semibold hover:text-gray-700 transform duration-500 "data-filter='mobile' >Mobile</button>
                    <button class="case-filter w-40 h-10  text-lg text-gray-500 font-semibold hover:text-gray-700 transform duration-500 " data-filter='design' >Design</button>
                </ul>
               
            </div> -->
        </div>
        
    <div class="w-full relative grid lg:grid-cols-1 grid-cols-1  grid-flow-row gap-y-4 overflow-y-hidden  " style="min-height: 100vh; max-height: 150vh;" >
        {% for case in cases %}
        <div class=" case w-full flex justify-center md:block   " data-item='{{ case.category.name }}' >
            <a href="">
                <div class="md:w-full w-4/5 bg-gray-100 shadow- md:flex rounded-md overflow-hidden ">
                    <div class="md:w-1/2 w-full  ">
                        <div class="p-4">
                            <h1 class="text-lg font-bold my-1">{{ case.title }}</h1>
                        <p class="text-sm text-muted">{{ case.content }}</p>
                        </div>
                        <div class="p-2 space-y-">
                            <h3 class="text-md text-gray-500 font-semibold">USED STACKS :</h3><br>
                            <ul class="flex space-x-2 text-xs  " >
                                {%for stack in case.used_stack.all %}<li  >{{stack.name}}</li> {% endfor %}
                            </ul>
                        </div>
                        <div class="w-full p-5  ">
                            <a class="float-right" href="#">{{ case.website }}</a>
                        </div>
                    </div>
                    <div class="md:w-1/2 w-full relative">
                    <img class=" w-full  h-full "  src="{{ case.albom.thumb.url }}" alt="" srcset="">
                    <div class="w-full h-full absolute bg-gray-600 bg-opacity-30 top-0"></div>
                    </div>
                    
                </div>
            </a>
        </div>
        {%endfor%}
        <div class="w-full absolute bottom-0 h-1/3 bg-gradient-to-b from-transparent viaansparent to-white z-10" ></div>
    </div>
    <div class="w-full h-20 flex justify-center items-center my-10" >
        <a class="text-gray-700 text-lg " href="/projects">See more --> </a>
    </div>
    
</section>

<script type="module">
    $(document).ready(function () {
        $('.case-filter').click(function (e) { 
            e.preventDefault();
            $(this).toggleClass('bg-gray-300');
            $('.case-filter.bg-gray-300').not(this).removeClass('bg-gray-300');
            let filter = $(this).attr('data-filter')
            $('.case').each(function(){
               $(this).addClass('hidden')
               let item = $(this).attr('data-item')
               if(filter == item || filter == 'all'){
                   $(this).addClass('flex')
               }
            })
        });

    });

    
</script>